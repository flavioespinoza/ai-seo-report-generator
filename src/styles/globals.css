@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================================
   🌿 Base Theme Styles (Tailwind 3 Compatible)
   =========================================== */

@layer base {
	:root {
		/* ----- Light mode defaults ----- */
		--background: #f8fafc;
		--foreground: #111827;
		--background-sidenav: #ffffff;

		--card: #ffffff;
		--card-foreground: #111827;

		--popover: #ffffff;
		--popover-foreground: #111827;

		--primary: #4c8bab;
		--primary-foreground: #ffffff;

		--secondary: #636e5b;
		--secondary-foreground: #ffffff;

		--muted: #f4f4f5;
		--muted-foreground: #6b7280;

		--accent: #f4f4f5;
		--accent-foreground: #111827;

		--destructive: #fe3557;
		--destructive-foreground: #ffffff;

		--border: #e5e7eb;
		--input: #e5e7eb;
		--ring: #4c8bab;

		/* Chart colors */
		--chart-1: #4c8bab;
		--chart-2: #636e5b;
		--chart-3: #fe3557;
		--chart-4: #a1c4d8;
		--chart-5: #ced1c9;
	}

	.dark {
		/* ----- Dark mode defaults ----- */
		--background: #18181b;
		--foreground: #e4e4e7;
		--background-sidenav: #1f1f22;

		--card: #202022;
		--card-foreground: #e4e4e7;

		--popover: #27272a;
		--popover-foreground: #e4e4e7;

		--primary: #4c8bab;
		--primary-foreground: #ffffff;

		--secondary: #636e5b;
		--secondary-foreground: #ffffff;

		--muted: #27272a;
		--muted-foreground: #a1a1aa;

		--accent: #2f2f31;
		--accent-foreground: #e4e4e7;

		--destructive: #fe3557;
		--destructive-foreground: #ffffff;

		--border: #3f3f46;
		--input: #3f3f46;
		--ring: #4c8bab;

		--chart-1: #4c8bab;
		--chart-2: #7a8574;
		--chart-3: #fe3557;
		--chart-4: #a1c4d8;
		--chart-5: #808a78;
	}

	html {
		scroll-behavior: smooth;
	}

	body {
		@apply bg-[var(--background)] font-sans text-[var(--foreground)] antialiased transition-colors duration-300;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-semibold text-gray-900 dark:text-gray-50;
	}

	p,
	span,
	label,
	li {
		@apply text-gray-700 dark:text-gray-300;
	}

	a {
		@apply text-[var(--primary)] hover:underline;
	}

	button {
		@apply transition-colors duration-150 focus:outline-none;
	}

	input,
	textarea,
	select {
		@apply rounded-md border border-[var(--input)] bg-white text-sm placeholder-gray-400 focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-zinc-700 dark:bg-zinc-800 dark:placeholder-gray-500;
	}
}

/* ===========================================
   🎨 Component Layer
   =========================================== */

@layer components {
	/* Card */
	.card {
		@apply rounded-lg border border-[var(--border)] bg-[var(--card)] text-[var(--card-foreground)] shadow-sm transition-colors duration-300;
	}

	/* Buttons – Tailwind v3 compatible, matches prototypes */
	.btn {
		@apply inline-flex items-center justify-center gap-2 rounded-lg px-5 py-2.5 font-medium shadow-sm transition-colors duration-150 focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2;
	}

	/* Solid primary button */
	.btn-primary {
		@apply btn bg-[var(--primary)] text-[var(--primary-foreground)] hover:brightness-90 active:brightness-75;
	}

	/* Solid secondary button */
	.btn-secondary {
		@apply btn bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:brightness-90 active:brightness-75;
	}

	/* Transparent outlined button */
	.btn-outline {
		@apply btn border border-[var(--border)] bg-transparent text-[var(--foreground)] hover:bg-gray-50 dark:hover:bg-zinc-800;
	}

	/* Transparent ghost button */
	.btn-ghost {
		@apply btn bg-transparent text-[var(--foreground)] hover:bg-gray-100 dark:hover:bg-zinc-800;
	}

	/* Destructive / critical button */
	.btn-danger {
		@apply btn bg-[var(--destructive)] text-[var(--destructive-foreground)] hover:brightness-90 active:brightness-75;
	}

	/* Icon-only buttons (for toolbar actions) */
	.btn-icon {
		@apply inline-flex items-center justify-center rounded-full p-2 text-[var(--foreground)] hover:bg-gray-100 focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2 dark:hover:bg-zinc-800;
	}

	/* Badges */
	.badge {
		@apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
	}

	.badge-primary {
		@apply badge bg-[var(--primary)]/10 text-[var(--primary)];
	}

	.badge-secondary {
		@apply badge bg-[var(--secondary)]/10 text-[var(--secondary)];
	}

	.badge-critical {
		@apply badge bg-[var(--destructive)]/10 text-[var(--destructive)];
	}

	/* Tables */
	.table-wrapper {
		@apply overflow-x-auto rounded-lg border border-[var(--border)] bg-[var(--card)] shadow-sm;
	}

	table {
		@apply w-full text-left text-sm;
	}

	th {
		@apply bg-gray-50 px-4 py-3 text-xs font-semibold uppercase tracking-wider text-gray-600 dark:bg-zinc-800/50 dark:text-gray-400;
	}

	td {
		@apply border-t border-[var(--border)] px-4 py-3 align-top text-gray-800 dark:text-gray-200;
	}

	tr:hover {
		@apply bg-gray-50 dark:bg-zinc-800/40;
	}
}

/* ===========================================
   ⚙️ Utility Enhancements
   =========================================== */

@layer utilities {
	.card-grid {
		@apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
	}

	.section {
		@apply space-y-6;
	}

	@keyframes fade-in {
		from {
			opacity: 0;
			transform: translateY(4px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.fade-in {
		animation: fade-in 0.3s ease-in-out;
	}
}

/* markdown parent div */
.markdown-parent-element > * {
	display: block !important;
	margin-bottom: 20px !important;
}

/* for lists */
.markdown-parent-element > ol > li {
	display: block !important;
	margin-bottom: 20px !important;
}

.markdown-parent-element > ul > li {
	display: block !important;
	margin-bottom: 20px !important;
}

/* =============================
   🪶 Tooltips (anchored top-right)
   ============================= */
.tooltip {
  @apply relative inline-block;
}

.tooltip-text {
  @apply invisible absolute -top-4 right-full rounded-md bg-gray-800 px-2.5 py-1 text-xs text-white opacity-0 transition-all duration-150 whitespace-nowrap translate-y-[-4px];
}

.tooltip:hover .tooltip-text,
.tooltip:focus-within .tooltip-text {
  @apply visible opacity-100 translate-y-0;
}

.dark .tooltip-text {
  @apply bg-zinc-700 text-gray-100;
}
